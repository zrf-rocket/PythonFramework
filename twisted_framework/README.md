<<<<<<< HEAD

# Python_Twisted_Framework

### 介绍

Twisted是基于单线程的事件驱动的网络引擎。Twisted是一个事件驱动的 Python 网络编程框架。它是最成熟的非阻塞 I/O 库之一，可供公众使用。 Twisted有两种工作模式：reactor和application方式。reactor是twisted事件循环的核心，提供了一些服务的基本接口，像网络通信、线程和事件的分发。反应器具体的内容包括：定时任务、线程、建立网络连接、监听连接。

###    

### 异步模型与同步模型的区别

a) 同步模型中的任务交替运行，是需要多个线程协同完成的，受到程序的控制，而在异步模型中则不需要。 b) 多线程本身就受到操作系统的调度与管理，所以同步模型本身就受到操作系统控制的，而在异步模型中一个任务会一直运行下去，直到任务被运行完或者程序暂停这个任务而去执行另一个任务。

异步模型有什么特点，为什么要深入了解并学习呢？ 异步模型比同步模型简单，因为异步模型只有一个进程而且任务的停止和运行状态是可控的。而在同步模型中，我们需要把每一个任务分成很多步骤，然后再有序的把他们组合起来。如果一个任务用到了另一个任务的结果，这个任务需要接受另一个任务的输出做为他自己的输入，而且这种接收的数据经常是一段一段的而不是一个整体。

异步模型与同步模型都是一个线程的话，他们执行相同的任务应该花费相同的时间，甚至比同步模型花费的时间更多，为什么要才采用异步的模型呢？

如果程序中会有阻塞、被强迫等待等情况，异步模型会比同步模型运行速度快。

图中灰色的部分代表阻塞(等待)，其中阻塞的原因很多时候是由于I/O操作，这样的一个同步程序被称为“阻塞程序”。异步程序设计的原理就是当其中一个任务被阻塞的时候，可以先去执行一些其他可以执行的任务所以一个异步程序也会被叫做“无阻塞程序”。

那什么时候，我们需要考虑使用异步模型呢？ a) 有很多任务，经常总有一个任务可以继续执行 b) 这些任务中要执行很多I/O操作 c) 这些任务大多都是独立的 这些优势，非常适合一个非常繁忙的Web Server，每一个任务代表了一次接收请求和发送结果，而这些Client请求大多都是独立的，这就是Twisted被叫做网络编程库的原因。

### 软件架构

Python3 Twisted Web框架（Web framework）。

### 特点

1. reactor模式是单线程的。
2. 像Twisted这种交互式模型已经实现了reactor循环，意味无需我们亲自去实现它。
3. 我们仍然需要框架来调用我们自己的代码来完成业务逻辑。
4. 因为在单线程中运行，要想跑我们自己的代码，必须在reactor循环中调用它们。
5. reactor事先并不知道调用我们代码的哪个函数这样的话，回调并不仅仅是一个可选项，而是游戏规则的一部分。

### 安装教程

pip install twisted==22.8.0

# Twisted

Twisted是一个基于Reactor模式的异步IO网络框架。基于Reactor模式抽象出了异步编程模型以及各种非阻塞的io模块（tcp、http、ftp等），使我们很方便地进行异步编程。

## 什么是Reactor模式

Reactor模式就是利用循环体来等待事件发生，然后处理发生的事件的模式。 Reactor主要有如下两个功能：

* 监视一系列与你I/O操作相关的文件描述符（description)。监视文件描述符的过程是异步的，也就是说整个循环体是非阻塞的；
* 不停地向你汇报那些准备好的I/O操作的文件描述符。

[Github](https://github.com/twisted/twisted)
[参考文档](https://docs.twisted.org/en/stable/core/howto/index.html)

https://zhuanlan.zhihu.com/p/84036822
